{"version":3,"file":"TestSysEntitieBase.js","sourceRoot":"","sources":["TestSysEntitieBase.ts"],"names":[],"mappings":";;AAAA,yDAAsD;AACtD,qDAAkD;AAElD,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,MAAM,KAAK,GAAM,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC;AAEvC,MAAM,kBACL,SAAQ,+BAAc;IAQtB,YAAY,IAAY,EACrB,GAAqB,EACrB,UAA4B,EAC5B,OAAe;QAEjB,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,GAAG,GAAO,GAAG,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAI,UAAU,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAM,IAAI,CAAC;IACrB,CAAC;IAEM,MAAM,CAAC,aAAa;QAE1B,OAAO;YACN,IAAI,EAAK,KAAK,CAAC,MAAM;YACrB,OAAO,EAAE,KAAK,CAAC,MAAM;YACrB,GAAG,EAAM,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,KAAK,EAAE;YAC7C,MAAM,EAAG,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,KAAK,EAAE;SAC7C,CAAC;IACH,CAAC;IAEM,MAAM,CAAC,SAAS,CAAC,KAAyB;QAEhD,IAAI,WAAW,GAAG,IAAI,kBAAkB,CAAC,KAAK,CAAC,IAAI,EAClD,mCAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,EACrC,mCAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,EACxC,KAAK,CAAC,OAAO,CAAC,CAAC;QAChB,WAAW,CAAC,EAAE,GAAK,KAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAChD,OAAO,WAAW,CAAC;IACpB,CAAC;IAEM,MAAM,CAAC,mBAAmB;QAEhC,OAAO,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC9C,CAAC;IAEM,SAAS;QAEf,OAAO;YACN,GAAG,EAAM,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;YAC7C,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,MAAM,EAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;YAChD,IAAI,EAAK,IAAI,CAAC,IAAI;SAClB,CAAC;IACH,CAAC;CACD;AAEQ,gDAAkB","sourcesContent":["import { RatedEntitieBase } from \"./RatedEntitieBase\";\r\nimport { TestSysDbEntry } from \"./TestSysDbEntry\";\r\n\r\nconst mongoose = require('mongoose');\r\nconst Types    = mongoose.Schema.Types;\r\n\r\nclass TestSysEntitieBase\r\n\textends TestSysDbEntry\r\n{\r\n\tpublic Id: string;\r\n\tpublic Name: string;\r\n\tpublic Age: RatedEntitieBase;\r\n\tpublic Family: RatedEntitieBase;\r\n\tpublic Comment: string;\r\n\r\n\tconstructor(name: string,\r\n\t\t\t\tage: RatedEntitieBase,\r\n\t\t\t\tfamilyType: RatedEntitieBase,\r\n\t\t\t\tcomment: string)\r\n\t{\r\n\t\tsuper();\r\n\r\n\t\tthis.Age     = age;\r\n\t\tthis.Comment = comment;\r\n\t\tthis.Family  = familyType;\r\n\t\tthis.Name    = name;\r\n\t}\r\n\r\n\tpublic static GetSchemaInfo(): any\r\n\t{\r\n\t\treturn {\r\n\t\t\tName:    Types.String,\r\n\t\t\tComment: Types.String,\r\n\t\t\tAge:     { type: Types.ObjectId, ref: \"age\" },\r\n\t\t\tFamily:  { type: Types.ObjectId, ref: \"fam\" },\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static Represent(entry: TestSysEntitieBase): TestSysEntitieBase\r\n\t{\r\n\t\tlet represented = new TestSysEntitieBase(entry.Name,\r\n\t\t\tRatedEntitieBase.Represent(entry.Age),\r\n\t\t\tRatedEntitieBase.Represent(entry.Family),\r\n\t\t\tentry.Comment);\r\n\t\trepresented.Id  = (entry as any)._id.toString();\r\n\t\treturn represented;\r\n\t}\r\n\r\n\tpublic static IncludeDependencies()\r\n\t{\r\n\t\treturn [{ path: 'Age' }, { path: 'Family' }];\r\n\t}\r\n\r\n\tpublic ToDbEntry(): any\r\n\t{\r\n\t\treturn {\r\n\t\t\tAge:     mongoose.Types.ObjectId(this.Age.Id),\r\n\t\t\tComment: this.Comment,\r\n\t\t\tFamily:  mongoose.Types.ObjectId(this.Family.Id),\r\n\t\t\tName:    this.Name,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport { TestSysEntitieBase };"]}