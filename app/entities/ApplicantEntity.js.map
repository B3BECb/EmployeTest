{"version":3,"file":"ApplicantEntity.js","sourceRoot":"","sources":["ApplicantEntity.ts"],"names":[],"mappings":"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","sourcesContent":["import { TestSysEntitieBase } from \"./TestSysEntitieBase\";\r\nimport { RatedEntitieBase } from \"./RatedEntitieBase\";\r\nimport { CommentableEntitieBase } from \"./CommentableEntitieBase\";\r\nimport { JobEntitie } from \"./JobEntitie\";\r\n\r\nconst mongoose = require('mongoose');\r\nconst Types    = mongoose.Schema.Types;\r\n\r\nclass ApplicantEntity\r\n\textends TestSysEntitieBase\r\n{\r\n\tpublic Studies: CommentableEntitieBase[];\r\n\tpublic Experiences: CommentableEntitieBase[];\r\n\tpublic Jobs: JobEntitie[];\r\n\tpublic Rate: number;\r\n\tpublic PsycoRate: number;\r\n\tpublic ProfRate: number;\r\n\tpublic BisnesRate: number;\r\n\r\n\tconstructor(name: string,\r\n\t\t\t\tage: RatedEntitieBase,\r\n\t\t\t\tstudies: CommentableEntitieBase[],\r\n\t\t\t\texperiences: CommentableEntitieBase[],\r\n\t\t\t\tfamilyType: RatedEntitieBase,\r\n\t\t\t\tcomment: string,\r\n\t\t\t\trate: number,\r\n\t\t\t\tpsycoRate: number,\r\n\t\t\t\tprofRate: number,\r\n\t\t\t\tbisnesRate: number)\r\n\t{\r\n\t\tsuper(name, age, familyType, comment);\r\n\r\n\t\tthis.Studies     = studies;\r\n\t\tthis.Experiences = experiences;\r\n\t\tthis.Rate        = rate;\r\n\t\tthis.PsycoRate   = psycoRate;\r\n\t\tthis.ProfRate    = profRate;\r\n\t\tthis.BisnesRate  = bisnesRate;\r\n\t}\r\n\r\n\tpublic static GetSchemaInfo(): any\r\n\t{\r\n\t\tlet base: any    = TestSysEntitieBase.GetSchemaInfo();\r\n\t\tbase.Studies     = [CommentableEntitieBase.GetSchemaInfo(\"stud\")];\r\n\t\tbase.Experiences = [CommentableEntitieBase.GetSchemaInfo(\"exp\")];\r\n\t\tbase.Jobs        = [{ type: Types.ObjectId, ref: \"job\" }];\r\n\t\tbase.Employment  = Types.String;\r\n\t\tbase.Rate        = Types.Number;\r\n\r\n\t\treturn base;\r\n\t}\r\n\r\n\tpublic static Represent(entry: ApplicantEntity): ApplicantEntity\r\n\t{\r\n\t\tlet base         = TestSysEntitieBase.Represent(entry) as ApplicantEntity;\r\n\t\tbase.Studies     = entry.Studies.map(x => CommentableEntitieBase.Represent(x));\r\n\t\tbase.Experiences = entry.Experiences.map(x => CommentableEntitieBase.Represent(x));\r\n\t\tbase.Jobs        = entry.Jobs.map(x => JobEntitie.Represent(x));\r\n\t\tbase.Rate        = entry.Rate;\r\n\t\treturn base;\r\n\t}\r\n\r\n\tpublic static IncludeDependencies()\r\n\t{\r\n\t\treturn [...TestSysEntitieBase.IncludeDependencies(), { path: 'RatedEntitie' }];\r\n\t}\r\n\r\n\tpublic ToDbEntry(): any\r\n\t{\r\n\t\tlet base         = super.ToDbEntry();\r\n\t\tbase.Studies     = this.Studies.map(x => x.ToDbEntry());\r\n\t\tbase.Experiences = this.Experiences.map(x => x.ToDbEntry());\r\n\t\tbase.Jobs        = this.Jobs\r\n\t\t\t\t\t\t   ? this.Jobs.map(x => mongoose.Types.ObjectId(x.Id))\r\n\t\t\t\t\t\t   : [];\r\n\t\tbase.Rate        = this.Rate;\r\n\t\treturn base;\r\n\t}\r\n}\r\n\r\nexport { ApplicantEntity };"]}